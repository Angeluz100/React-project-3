(this["webpackJsonpreact-project-3"]=this["webpackJsonpreact-project-3"]||[]).push([[0],{21:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n.n(c),r=n(14),s=n.n(r),i=(n(21),n(15)),l=n(7),o=n.n(l),u=n(9),j=n(4),p=n(12),h=n(16),b=n(10);n(23);b.a.initializeApp({apiKey:"AIzaSyBpFZbK00f65IXmR01AT99UAIM4p1HjLPc",authDomain:"dream-places.firebaseapp.com",projectId:"dream-places",storageBucket:"dream-places.appspot.com",messagingSenderId:"899080042815",appId:"1:899080042815:web:5c92fd36b8a400ee7afb8a"});var d=new b.a.auth.GoogleAuthProvider,O=b.a.auth();function m(){O.signInWithPopup(d)}function f(){O.signOut()}var x=n(1),g=function(e){return Object(x.jsxs)("header",{children:[Object(x.jsx)("h1",{children:"Dream Places to visit"}),Object(x.jsx)("ul",{children:e.user?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("li",{children:["Welcome, ",e.user.displayName]}),Object(x.jsx)("li",{children:Object(x.jsx)("img",{src:e.user.photoURL,alt:e.user.displayName})}),Object(x.jsx)("li",{className:"auth-link",onClick:f,children:"Logout"})]}):Object(x.jsx)("li",{className:"auth-link",onClick:m,children:"Login"})})]})};n(26);function v(){var e=Object(c.useState)({user:null,places:[{place:"Whitehaven Beach",Comments:"Paradise in Australia"}],newPlace:{place:"",comments:""}}),t=Object(h.a)(e,2),n=t[0],a=t[1];function r(){return(r=Object(p.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:3001/api/places",e.next=3,fetch("http://localhost:3001/api/places").then((function(e){return e.json()}));case 3:t=e.sent,a((function(e){return Object(j.a)(Object(j.a)({},e),{},{places:t})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(p.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.user){e.next=2;break}return e.abrupt("return");case 2:return t.preventDefault(),"http://localhost:3001/api/places",e.next=6,fetch("http://localhost:3001/api/places",{method:"POST",headers:{"Content-type":"Application/json"},body:JSON.stringify(n.newPlace)}).then((function(e){return e.json()}));case 6:c=e.sent,a((function(e){return{places:[].concat(Object(i.a)(e.places),[c]),newPlace:{place:"",comments:""}}}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){a((function(t){return Object(j.a)(Object(j.a)({},t),{},{newPlace:Object(j.a)(Object(j.a)({},t.newPlace),{},Object(u.a)({},e.target.name,e.target.value))})}))}return Object(c.useEffect)((function(){!function(){r.apply(this,arguments)}(),O.onAuthStateChanged((function(e){a((function(t){return Object(j.a)(Object(j.a)({},t),{},{user:e})}))}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g,{user:n.user}),Object(x.jsx)("main",{children:Object(x.jsxs)("section",{children:[n.places.map((function(e){return Object(x.jsxs)("article",{children:[Object(x.jsx)("div",{children:e.place})," ",Object(x.jsx)("div",{children:e.comments})]},e.place)})),n.user&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("hr",{}),Object(x.jsxs)("form",{onSubmit:function(e){return s.apply(this,arguments)},children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Place"}),Object(x.jsx)("input",{name:"Place",value:n.newPlace.place,onChange:l})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Comments "}),Object(x.jsx)("input",{name:"Comments",value:n.newPlace.comments,onChange:l})]}),Object(x.jsx)("button",{children:"Enter New Place"})]})]})]})})]})}var P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(v,{})}),document.getElementById("root")),P()}},[[27,1,2]]]);
//# sourceMappingURL=main.71ef640e.chunk.js.map